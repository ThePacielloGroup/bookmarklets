<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <title>Xpath Getter</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, shrink-to-fit=no" />
    <style>
      [id] {background: lightcyan;}
      .bigulate {
        font-size: 30px;
      }
    </style>
  </head>
  <body>


    <h1>Xpath Getter</h1>
    <div class="bigulate">
    <p>This tool creates a file that can be imported into ARC Portal to create a User Flow. Using this tool, you are effectively skipping the first 20 steps in the <a href="https://www.paciellogroup.net/knowledge-base/arc/arc-admin-user-guide/guides/user-flows-and-selenium-ide/">'Creating User Flows with Selenium IDE' guide</a>.</p>
      <p>Drag this link to your favourites/bookmarks toolbar:</p>
      <p>
        ðŸ‘‰
        <a href="javascript:(function()%7B%22use%20strict%22%3Blet%20currentEl%2CparentEl%2CARC_XML_DownloadLink%2Ctitle%2CstrXML%3D%22%22%2CstrXMLEnd%3D%22%3C%2FTestCase%3E%20%5Cn%22%2CstrXMLStart%3D%22%22%2CstrXMLanalyzeAsset%3D%22%22%2CstrDownloadContent%3D%22%22%2CstrDownloadContentStart%3D%22%22%2CstrDownloadContentItem%3D%22%22%2CuseIDRefs%3D!1%2CxpathList%3D%22%22%2CstepTitleDefault%3D%22%E2%9D%8CTODO_Component_Title_TBC%22%2CstepTitle%3DstepTitleDefault%3Bfunction%20removeDuplicates()%7Blet%20t%3DxpathList.split(%22%5Cn%22)%2Ce%3D%5B%5D%3Bfor(let%20n%3D0%3Bn%3Ct.length%3Bn%2B%2B)e.indexOf(t%5Bn%5D)%3C0%26%26e.push(t%5Bn%5D)%3BxpathList%3De.join(%22%5Cn%22)%7Dfunction%20getXpath(t)%7Blet%20e%2Cn%3Dt%2Co%3Dt.tagName.toLowerCase()%2Cs%3D%22%22%2Ca%3D%22%22%2Ci%3D%22%22%2Cr%3D%22%22%3Bfor(%3Bn.parentNode%3B)%7Bif((e%3Dn.parentNode).tagName)%7Bs%3De.tagName.toLowerCase()%3Bconst%20t%3De.querySelectorAll(%22%3Ascope%20%3E%20%22%2Bn.tagName)%3Bi%3Dt.length%3E1%3F%22%5B%22%2BparseInt(Array.from(t).indexOf(n)%2B1)%2B%22%5D%22%3A%22%22%2Co%3Dn.tagName.toLowerCase()%3Blet%20l%3Dn.getAttribute(%22id%22)%3Ba%3Dl%26%26useIDRefs%3F'%2F*%5B%40id%3D%22'%2Bl%2B'%22%5D'%2Br%2Ba%3Ao%2Bi%2Br%2Ba%2Cr%3D%22%2F%22%7Dn%3De%7D%22%22%3D%3D%3Ds%26%26(s%3Do)%3Bconst%20l%3D(a%3D%22%2F%2F%22%2Bs%2Bi%2Br%2Ba).split(%22%2F%2F*%22)%3Breturn%20l.length%3E1%26%26(a%3D%22%2F%2F*%22%2B(a%3Dl%5Bl.length-1%5D))%2Ca%7Dfunction%20getXpathARC_XML()%7Blet%20t%2Ce%2Cn%2Co%3D!1%3Bconst%20s%3Ddocument.querySelectorAll(%22*%22)%3Bfunction%20a(t)%7BstrXMLStart%3D%22%22%2CstrXMLStart%2B%3D'%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%5Cn'%2CstrXMLStart%2B%3D%22%3CTestCase%3E%5Cn%22%2CstrXMLStart%2B%3D%22%20%3Cselenese%3E%5Cn%22%2CstrXMLStart%2B%3D%22%20%20%3Ccommand%3Eopen%3C%2Fcommand%3E%5Cn%22%2CstrXMLStart%2B%3D%22%20%20%3Ctarget%3E%3C!%5BCDATA%5B%22%2Bt%2B%22%5D%5D%3E%3C%2Ftarget%3E%5Cn%22%2CstrXMLStart%2B%3D%22%20%20%3Cvalue%3E%3C!%5BCDATA%5B%5D%5D%3E%3C%2Fvalue%3E%5Cn%22%2CstrXMLStart%2B%3D%22%20%3C%2Fselenese%3E%5Cn%22%2CstrXMLanalyzeAsset%3D%22%22%3Bconst%20e%3DxpathList.split(%22%5Cn%22)%3Bfor(let%20t%3D0%3Bt%3Ce.length%3Bt%2B%2B)if(%22%22!%3D%3De%5Bt%5D)%7BstrXMLanalyzeAsset%2B%3D%22%20%3Cselenese%3E%5Cn%22%2CstrXMLanalyzeAsset%2B%3D%22%20%20%3Ccommand%3EanalyzeAsset%3C%2Fcommand%3E%5Cn%22%3Bconst%20n%3De%5Bt%5D.split(%22%20%E2%80%94%20%22)%2Co%3Dn%5B0%5D%3Blet%20s%3Dn%5B1%5D%3Bs%3D%3D%3DstepTitleDefault%26%26(s%3D%22TBC%22)%2CstrXMLanalyzeAsset%2B%3D%22%20%20%3Ctarget%3E%3C!%5BCDATA%5Bxpath%3D%22%2Bo%2B%22%5D%5D%3E%3C%2Ftarget%3E%5Cn%22%2CstrXMLanalyzeAsset%2B%3D%22%20%20%3Ctitle%3E%3C!%5BCDATA%5B%22%2Bs%2B%22%5D%5D%3E%3C%2Ftitle%3E%5Cn%22%2CstrXMLanalyzeAsset%2B%3D%22%20%20%3Cdescription%3E%3C!%5BCDATA%5BAnalyze%20the%20%22%2Bs%2B%22%20component%5D%5D%3E%3C%2Fdescription%3E%5Cn%22%2CstrXMLanalyzeAsset%2B%3D%22%20%20%3Cvalue%3E%3C!%5BCDATA%5B%5D%5D%3E%3C%2Fvalue%3E%5Cn%22%2CstrXMLanalyzeAsset%2B%3D%22%20%3C%2Fselenese%3E%5Cn%22%7D!function(t%2Ce)%7Bconst%20n%3Ddocument.querySelector(%22%23ARC_XML_DownloadLink%22)%3Bn.textContent%3D%22Download%20the%20XML%20file%22%2Cn.setAttribute(%22href%22%2C%22data%3Atext%2Fplain%3Bcharset%3Dutf-8%2C%22%2BencodeURIComponent(e))%2Cn.setAttribute(%22download%22%2Ct)%7D(%22ARC-UserFlow-Steps.xml%22%2CstrXML%3DstrXMLStart%2BstrXMLanalyzeAsset%2BstrXMLEnd)%7Dfunction%20i()%7BArray.from(s).forEach(t%3D%3E%7Bl(t)%7D)%7Dfunction%20r(e%2Cn)%7Bt%3De%2Cn.stopPropagation()%2Co%7C%7Cp(e)%2Cd(t)%7Dfunction%20l(t)%7Bt.classList.remove(%22tempHighlight%22)%7Dfunction%20p(t)%7Bt.classList.add(%22tempHighlight%22)%7Dfunction%20d(t)%7Bconsole.log(%22%F0%9F%91%89%20%22%2BgetXpath(t))%2Cn.innerHTML%3DgetXpath(t)%7Di()%2CArray.from(s).forEach(t%3D%3E%7Bt.addEventListener(%22click%22%2Ce%3D%3E%7B%22ARC_XML_DownloadLink%22!%3D%3Dt.getAttribute(%22id%22)%26%26(e.stopPropagation()%2Ce.preventDefault()%2CxpathList%2B%3DgetXpath(t)%2B%22%20%E2%80%94%20%22%2BstepTitleDefault%2B%22%5Cn%22%2CremoveDuplicates()%2Cfunction(t%2Ce)%7Bl(t)%2Ca(location.href)%7D(t)%2Cn.innerHTML%3D%22Added%20to%20list%20%22%2BgetXpath(t)%2B%22%3Cbr%3E%5BPress%20't'%20to%20provide%20a%20title%20for%20this%20component%5D%22)%7D)%2Ct.addEventListener(%22focus%22%2Ce%3D%3E%7Br(t%2Ce)%7D)%2Ct.addEventListener(%22mouseover%22%2Ce%3D%3E%7Br(t%2Ce)%7D)%2Ct.addEventListener(%22mouseout%22%2Ct%3D%3E%7Bi()%7D)%2Ct.addEventListener(%22blur%22%2Ct%3D%3E%7Bi()%7D)%7D)%2Cfunction()%7Bconst%20t%3Ddocument.createElement(%22style%22)%3Bt.setAttribute(%22id%22%2C%22xpathGetterStyles%22)%2Ct.textContent%3D%22%23outputPanelForARC%20button%20%7Bborder%3A1px%20solid%20white%3Bcolor%3Awhite%3Bbackground%3Ablack%3B%7D%20.tempHighlight%7Boutline%3A4px%20solid%20black!important%3Boutline-offset%3A-4px!important%3B-webkit-box-shadow%3A%200px%200px%200px%204px%20%23fff%3B%20box-shadow%3A%200px%200px%200px%204px%20%23fff%3B%7D%23infoPanel%20%7Bz-index%3A10000%3Bfont-size%3A20px%3Bbackground%3Argba(0%2C0%2C0%2C0.8)%3Bcolor%3A%23fff%3Bfont-weight%3Abold%3Bpadding%3A10px%3Bposition%3Afixed%3Bbottom%3A20px%3Bleft%3A20px%3Bfont-family%3Asans-serif%3Bmax-width%3A45vw%3Boverflow%3Ahidden%3B%7D%20%23infoPanel%3Aempty%20%7Bvisibility%3Ahidden%3B%7D%20%23infoPanel%20code%20%7Bcolor%3Alime%7D%20%23ARC_XML_DownloadLink%20%7Bposition%3Afixed%3Bbottom%3A10px%3Bright%3A10px%3Bbackground%3Argba(41%2C%2098%2C%2024%2C0.9)%3Bcolor%3Awhite%3Bfont-weight%3Abold%3Bpadding%3A10px%3Bfont-family%3Asans-serif%3B%7D%20%23ARC_XML_DownloadLink%3Aempty%7Bvisibility%3Ahidden%7D%22%2Cdocument.head.appendChild(t)%7D()%2C(n%3Ddocument.createElement(%22div%22)).setAttribute(%22id%22%2C%22infoPanel%22)%2Cn.setAttribute(%22role%22%2C%22status%22)%2Cdocument.body.appendChild(n)%2Cfunction()%7Bconst%20t%3Ddocument.createElement(%22a%22)%3Bt.setAttribute(%22id%22%2C%22ARC_XML_DownloadLink%22)%2Ct.addEventListener(%22click%22%2Ct%3D%3E%7Ba(location.href)%2Ct.stopPropagation()%7D)%2Cdocument.body.appendChild(t)%7D()%2Cdocument.addEventListener(%22keydown%22%2Cfunction(o)%7Bif(%22Escape%22%3D%3D%3Do.key%26%26(outputPanelForARC.remove()%2Cdocument.querySelector(%22%23xpathGetterStyles%22).remove())%2C%22ArrowUp%22%3D%3D%3Do.key%26%26(o.preventDefault()%2Ct.parentNode%26%26%22HTML%22!%3D%3Dt.tagName%26%26(l(t)%2Ce%3Dt.parentNode%2Cp(t%3De))%2Cd(t)%2Cn.textContent%3Dn.textContent%2B%22%20(Press%20Return%20to%20get%20this%20element's%20details)%22)%2C%22ArrowLeft%22%3D%3D%3Do.key%26%26(o.preventDefault()%2Ct.previousElementSibling%26%26(l(t)%2Cr(t%3Dt.previousElementSibling%2Co)))%2C%22ArrowRight%22%3D%3D%3Do.key%26%26(o.preventDefault()%2Ct.nextElementSibling%26%26(l(t)%2Cr(t%3Dt.nextElementSibling%2Co)))%2C%22ArrowDown%22%3D%3D%3Do.key%26%26(o.preventDefault()%2Ct.childNodes.length%3E1))%7Bl(t)%3Blet%20e%2Cn%3D!1%3BArray.from(t.childNodes).forEach(t%3D%3E%7B1!%3D%3Dt.nodeType%7C%7Cn%7C%7C(n%3D!0%2Ce%3Dt)%7D)%2Ce%26%26r(t%3De%2Co)%7D%22x%22%3D%3D%3Do.key%26%26(useIDRefs%3D!useIDRefs%2Cconsole.log(%22useIDRefs%20%3D%20%22%2CuseIDRefs))%2C%22t%22%3D%3D%3Do.key%26%26(stepTitle%3Dprompt(%22Enter%20a%20title%20for%20this%20step%2Fcomponent%22)%2Cfunction()%7Bconst%20t%3DxpathList.split(%22%5Cn%22)%3BxpathList%3D%22%22%3Bfor(let%20e%3D0%3Be%3Ct.length-2%3Be%2B%2B)xpathList%2B%3Dt%5Be%5D%2B%22%5Cn%22%7D()%2Cfunction(e)%7Blet%20n%3DgetXpath(t)%3BxpathList%2B%3Dn%2B%22%20%E2%80%94%20%22%2Be%2B%22%5Cn%22%2Cconsole.log(%22Xpath%20locators%20and%20titles%20to%20be%20used%20in%20XML%20file%5Cn--------------------------------%5Cn%22%2BxpathList)%2Ca()%2Ct%20instanceof%20Element%26%26t.classList.add(%22xpathGetterHighlight%22)%7D(stepTitle))%2C%22Enter%22%3D%3D%3Do.key%26%26(o.preventDefault()%2Ct.click())%7D)%2Calert(%22Open%20Dev%20Tools%20console%20(if%20not%20already%20open)%2C%20then%20just%20start%20clicking%20on%20the%20elements%20on%20the%20page%20that%20you%20want%20to%20capture%20Xpath%20and%20references%20and%20source%20code%20for.%20A%20list%20will%20appear%20in%20the%20console%20for%20you%20to%20copy%2Fpaste.%20Note%20that%20duplicates%20are%20automatically%20removed.%5Cn%5Cn%E2%80%A2%20To%20move%20up%20a%20node%20if%20your%20selection%20is%20too%20far%20down%2C%20press%20the%20Up%20arrow%20key%5Cn%E2%80%A2%20To%20change%20the%20selector%20type%20(DOM%20position%20or%20use%20IDs%20if%20present)%2C%20toggle%20using%20the%20left%2Fright%20arrow%20keys%22)%7DgetXpathARC_XML()%3B%7D)()">Get Xpaths for ARC</a>ðŸ‘ˆ
      </p>
      <p>After it has run:</p>
      <ul>
        <li>Hover over on elements on the page, then click when the correct element is highlighted</li>
        <li>Or <kbd>Tab</kbd> to a focusable element on the page and then</li>
        <li>Press the arrow keys to fine tune your selection (choose parent, child and sibling elements in the DOM) and confirm that selection with <kbd>Enter</kbd></li>
        <li>You can toggle the xpath type by pressing <kbd>x</kbd>, e.g. it would switch between:
        <ol>
          <li><var>//html/body/footer/ul/li[5]</var> and</li>
          <li><var>//[@id="footerlinks"]/li[5]</var></li>
        </ol>
        In other words, if there are IDs you can use them (but if the IDs look like junk, you can toggle it back).
        </li>
      </ul>
    <p>You can <a href="xpath-getter-for-ARC.mp4">watch this in action in this video</a>. The <a href="xpath-getter.js">source code is here</a>.</p>
    <p>Use the page content below as a tester.</p>
    <hr>
    </div>

    <header id="mainheader">This is a header</header>
    <main>
      <p id="id0">Lorem ipsum dolor<a href="#"> sit</a> amet consectetur, adipisicing elit. Repudiandae dolore non ipsa, natus nesciunt ut error beatae quis libero optio hic dolorum praesentium, repellendus veritatis laudantium nulla maiores cupiditate a!</p>
      <p>Esse inventore optio<a href="#"> voluptate</a> enim aut ducimus architecto laudantium, tempore, vero sequi a in aliquam autem beatae dicta incidunt totam illo quibusdam aspernatur, odio expedita quam vel perferendis consequuntur ipsa?</p>
      <p>Dolorem deserunt dicta<a href="#"> ratione</a> ullam repellendus optio harum vitae, placeat blanditiis similique. Placeat cumque excepturi, aspernatur minima temporibus, culpa, provident rem aperiam facere aut cum beatae at architecto accusamus reprehenderit.</p>
      <p>Mollitia temporibus harum<a href="#"> modi</a> architecto, ipsum, debitis? Deleniti odit dolor beatae facilis neque officiis veritatis ad laboriosam, dicta. Sit dolorem unde, et deserunt facilis! Numquam, error necessitatibus. Qui, consequuntur, exercitationem.</p>
      <p>Consequuntur quis eius<a href="#"> reprehenderit</a> culpa, soluta velit incidunt adipisci ut ex architecto! Rerum ipsum aliquid numquam assumenda sint nihil neque magnam, dolor voluptatibus quasi dolorum, totam ab eos quas quibusdam.</p>
    </main>
    <footer id="footer">
      <ul id="ul">
        <li id="id1">Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto, fuga id tempora officia officiis similique a fugit dolores quas numquam dignissimos sapiente totam, odit placeat ipsum quae corrupti at, odio.</li>
        <li>Sunt praesentium debitis, hic. Sapiente molestias esse ipsam explicabo quaerat recusandae, vel aspernatur sunt consectetur eius quia, expedita ab quibusdam nemo voluptatem accusantium ratione doloremque, odio facilis natus provident quos.</li>
        <li id="id2">Nostrum odio est quasi quaerat ad excepturi, labore eos eaque quis vel nemo sapiente beatae sit quisquam placeat iure doloribus soluta nobis, natus. Esse explicabo iure, alias itaque, deserunt doloremque.</li>
        <li>Molestiae, voluptatum fuga ducimus optio debitis doloremque amet at assumenda harum ad, voluptatibus, totam adipisci quam eligendi, labore dolores architecto. Cupiditate vero commodi quibusdam libero harum quas corporis dolorum iste.</li>
        <li>In distinctio nesciunt commodi tempora magnam aspernatur impedit exercitationem, nemo illo temporibus necessitatibus minus dolore ullam doloremque! Libero sunt et assumenda impedit atque itaque quisquam perspiciatis! Minus, dolorum at enim.</li>
      </ul>
      <div id="divid0">Lorem ipsum, dolor sit amet consectetur adipisicing elit. 
        <div>
          <div>
            <div id="divid1">Vero, ab asperiores! Aliquam vitae impedit excepturi, similique 
              <div id="divid2">fugiat optio beatae quis quibusdam non temporibus doloremque, 
                <div id="divid3">eveniet omnis porro? Corporis, neque minus!</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
  <p><a href="https://github.com/ThePacielloGroup/Helpers">View source code on GitHub 'Helpers' Repo</a></p>
</body>
</html>
<!-- <script src="xpath-getter.js"></script> -->